// Generated by IcedCoffeeScript 1.2.0i
(function(){var e,t,n,r=[].slice;e={Deferrals:function(){function e(e){this.continuation=e;this.count=1;this.ret=null}e.prototype._fulfill=function(){if(!--this.count)return this.continuation(this.ret)};e.prototype.defer=function(e){var t=this;++this.count;return function(){var n,i;n=1<=arguments.length?r.call(arguments,0):[];e!=null&&(i=e.assign_fn)!=null&&i.apply(null,n);return t._fulfill()}};return e}(),findDeferral:function(){return null}};n=function(){};t={type:"obj",children:[{name:"description",props:{type:"text",optional:!0,title:"דברי הסבר"}},{name:"implementation_status",props:{type:"select",options:[["NEW","טרם התחיל"],["STUCK","תקוע"],["IN_PROGRESS","בתהליך"],["FIXED","יושם במלואו"],["WORKAROUND","יושם חלקית"],["IRRELEVANT","יישום ההמלצה כבר לא נדרש"]],title:"סטטוס יישום"}},{name:"implementation_status_text",props:{type:"text",optional:!0,title:"הסבר לסטטוס היישום"}},{name:"links",props:{type:"arr",eltype:{type:"obj",children:[{name:"url",props:{type:"str",title:"URL"}},{name:"description",props:{type:"str",title:"תיאור"}}]},title:"קישורים"}}]};$(function(){var n;$("#savedialog").modal();$("#savedialog").modal("hide");$("#updaters").modal();$("#updaters").modal("hide");n=new JSE($("#body"),t);$("#submit").click(function(){var e;e=n.getvalue();try{n.setvalue(e);$("#errors").html("&nbsp;");$("#saver input[name='data']").val(JSON.stringify(e));$("#saver").submit()}catch(t){$("#errors").html(t)}$("#body").html("");n.render();return $("#savedialog").modal("hide")});window.onhashchange=function(t){var r,i,s,o,u,a,f=this;u=e.findDeferral(arguments);i=window.location.hash;i=i.slice(1,i.length+1||9e9);$("#saver").attr("action","/update/"+i);(function(t){a=new e.Deferrals(t,{parent:u,filename:"update-issue.iced",funcname:"onhashchange"});$.getJSON("/api/"+i,a.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:25}));a._fulfill()})(function(){var e,t;o=r.updates;o=Object.keys(o);$("#updaters ul").html("<li>ארגון חדש</li>");for(e=0,t=o.length;e<t;e++){s=o[e];$("#updaters ul").append("<li>"+s+"</li>")}$("#updaters li").click(function(){var e;$("#updaters").modal("hide");e=$(this).html();n.setvalue(r.updates[e][0]);$("#body").html("");return n.render()});return $("#updaters").modal("show")})};return window.onhashchange()})}).call(this);